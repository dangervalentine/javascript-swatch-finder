(this["webpackJsonpjavascript-swatch-finder"]=this["webpackJsonpjavascript-swatch-finder"]||[]).push([[0],[,,,,function(e,t,n){e.exports=n.p+"static/media/swatch-finder.0856352c.svg"},function(e,t,n){e.exports=n.p+"static/media/upload.f4ef2c0a.svg"},function(e,t,n){e.exports=n(12)},,,,,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a,r=n(0),o=n.n(r),c=n(3),i=n.n(c),l=n(1),s=function(e,t){var n=parseInt(e.substring(0,2),16),a=parseInt(e.substring(2,4),16),r=parseInt(e.substring(4,6),16),o=parseInt(t.substring(0,2),16),c=parseInt(t.substring(2,4),16),i=parseInt(t.substring(4,6),16),l=255-Math.abs(n-o),s=255-Math.abs(a-c),u=255-Math.abs(r-i);return((l/=255)+(s/=255)+(u/=255))/3},u=function(e){return e.toString(16).padStart(2,"0")},d=function(e){document.body.style.backgroundColor="#".concat(e)},f=function(e){var t=e.hex,n=e.weight,a=o.a.useState(t),r=Object(l.a)(a,2),c=r[0],i=r[1],s=!!(window.innerWidth<800),u=Math.min(2.5,1+n/15),f="".concat(s?50*"".concat(u):80*"".concat(u),"px"),m={backgroundColor:"#".concat(t),height:f,width:f};return o.a.createElement("div",{onMouseOver:function(){return d(t)},className:"color-block",onClick:function(){!function(e){var t=document.createElement("textarea");t.value="#".concat(e),document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}(t),i("copied"),setTimeout((function(){return i(t)}),400)},style:m},c)},m=n(4),h=n.n(m),g=function(e){return o.a.createElement("header",null,o.a.createElement("img",{className:"logo",src:h.a,alt:"swatch finder logo"}),o.a.createElement("div",{className:"header-text"},o.a.createElement("p",{className:"title"},"Swatch Finder"),o.a.createElement("a",{target:"_blank",className:"credit",rel:"noopener noreferrer",href:"https://github.com/victoriousj"},o.a.createElement("p",null,"by victor d. johnson"))),o.a.createElement("div",null,o.a.createElement("input",{onChange:e.changeSize,type:"range",id:"size",name:"size",min:"1",max:"100",value:e.state}),o.a.createElement("label",{htmlFor:"volume"},"Pixel Size "),o.a.createElement("span",null,e.size)),o.a.createElement("div",null,o.a.createElement("button",{onClick:e.downloadImage},"download")))},v=(n(11),n(5)),p=n.n(v),b=function(){var e=!!(window.innerWidth<=800),t=Object(r.useState)(""),n=Object(l.a)(t,2),c=n[0],i=n[1],m=Object(r.useState)([]),h=Object(l.a)(m,2),v=h[0],b=h[1],w=Object(r.useState)(""),E=Object(l.a)(w,2),j=E[0],k=E[1],y=Object(r.useState)(5),C=Object(l.a)(y,2),O=C[0],x=C[1],N=Object(r.createRef)(),S=Object(r.createRef)(),I=Object(r.createRef)(),R=Object(r.useCallback)((function(e){var t;if(e||a){e&&(a=URL.createObjectURL(e));var n=S.current,r=n.getContext("2d"),l=new Image;i(null!==(t=null===e||void 0===e?void 0:e.name)&&void 0!==t?t:c),k(a),l.onload=function(){return function(){var e,t,a,c=n.height=l.height,i=n.width=l.width,m=c>i?c:i,h=Math.round(c*O/m),g=Math.round(i*O/m);r.drawImage(l,0,0,g,h),r.imageSmoothingEnabled=!1,r.drawImage(n,0,0,g,h,0,0,i,c);for(var v=[],p=0;p<g;p++)for(var w=0;w<h;w++){var E=r.getImageData(i/g*p,c/h*w,1,1).data,j={weight:1,hex:(e=E[0],t=E[1],a=E[2],u(e)+u(t)+u(a))};v.push(j)}(function(e){for(var t=0;t<e.length;t++)for(var n=e[t],a=t+1;a<e.length;a++){var r=e[a];s(n.hex,r.hex)>.91&&(n.weight+=r.weight,e.splice(a--,1))}})(v),v=v.sort((function(e,t){return e.weight-t.weight})),d(v[v.length-1].hex),b(v.slice(0,15).map((function(e){return o.a.createElement(f,Object.assign({},e,{key:e.hex}))})))}()},l.src=a}}),[S,c,O]);Object(r.useEffect)((function(){R()}),[R,O]);var W=""===j?o.a.createElement("div",null,o.a.createElement("img",{src:p.a,alt:c}),o.a.createElement("div",{className:"image-text"},o.a.createElement("span",{className:"bold"},"Choose a file")," \xa0",!e&&"or drag it here")):o.a.createElement("img",{className:"image-file",src:j,alt:"select file"});return o.a.createElement("div",null,o.a.createElement(g,{size:O,changeSize:function(e){x(e.target.value)},downloadImage:function(){var e=document.createElement("a");e.href=S.current.toDataURL("image/png"),e.download=c,document.body.appendChild(e),e.click()}}),o.a.createElement("div",{className:"container"},o.a.createElement("div",{ref:N,className:"photo-container",onDragOver:function(e){e.preventDefault(),N.current.style.backgroundColor="rgba(255,255,255,.3)"},onDragLeave:function(e){e.preventDefault(),N.current.style.backgroundColor="rgba(51,51,51,1)"},onDrop:function(e){e.preventDefault(),e.dataTransfer&&(R(e.dataTransfer.files[0]),N.current.style.backgroundColor="rgba(51,51,51,1)")}},o.a.createElement("div",{className:"photo".concat(""===j?" border":""),onClick:function(){return I.current.click()}},W,o.a.createElement("canvas",{ref:S}))),o.a.createElement("div",{className:"results"},o.a.createElement("div",{className:"color-swatch"},v)),o.a.createElement("input",{ref:I,accept:"image/*",type:"file",onChange:function(e){e.target.files.length&&R(e.target.files[0])}})))},w=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function E(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(o.a.createElement(b,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/javascript-swatch-finder",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/javascript-swatch-finder","/service-worker.js");w?(!function(e,t){fetch(e).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):E(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):E(t,e)}))}}()}],[[6,1,2]]]);
//# sourceMappingURL=main.79766260.chunk.js.map